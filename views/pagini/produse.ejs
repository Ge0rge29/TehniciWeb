<!DOCTYPE html>
<html lang="ro">
    <head>
        <meta name="description" content="GSports Store - magazin online cu articole sportive de top: gantere, undițe, rachete de tenis.">
        <meta name="keywords" content="sport, gantere, undite, rachete, fitness, antrenament">
        <link rel="stylesheet" href="/resurse/css/produse.css" type="text/css" />
        <title>GSports Store - Produse</title>
        <%- include("../fragmente/head") %>     
        <script type="text/javascript" src="/resurse/js/produse.js"></script>
        <script type="text/javascript" src="/resurse/js/produse-cos.js"></script>
    </head>
    <body>

    <%- include("../fragmente/header") %>

        <main>
            <label>Nume produs:<br/>
                <textarea id="inp-nume" rows="1" cols="30" placeholder="Introduceți numele produsului..."></textarea>
            </label>

            <div>Durabilitate:
                <p><label>Scăzută (&lt; 80)
                    <input id="i_rad1" name="gr_rad" value="0:80" type="radio"/>
                </label></p>
                <p><label>Mediu (80 - 95)
                    <input id="i_rad2" name="gr_rad" value="80:95" type="radio"/>
                </label></p>
                <p><label>Ridicată (&ge; 95)
                    <input id="i_rad3" name="gr_rad" value="95:1000000000" type="radio"/>
                </label></p>
                <p><label>Toate
                    <input id="i_rad4" checked name="gr_rad" value="toate" type="radio"/>
                </label></p>
            </div>

            <label>Preț minim: <input type="range" id="inp-pret" value="0" min="0" max="700"> <span id="infoRange">(0)</span></label>

            <label>Categorie:
                <select id="inp-categorie">
                    <option selected value="toate">Toate</option> <!-- selected ia value cand intri pe pagina -->
                    <% for (let opt of locals.optiuni) { %>
                        <option value="<%- opt.unnest %>"><%- opt.unnest %></option>
                    <% } %>
                </select>
            </label>

            <label>Subcategorie:
                <select id="inp-subcategorie">
                    <option selected value="toate">Toate</option>
                    <% if (locals.suboptiuni) { %>
                        <% for (let sub of locals.suboptiuni) { %>
                            <option value="<%- sub.unnest %>"><%- sub.unnest %></option>
                        <% } %>
                    <% } %>
                </select>
            </label>            <label>Culoare: 
                <input type="text" id="inp-culoare" placeholder="ex: rosu" list="culori-lista">
                <datalist id="culori-lista">
                    <option value="rosu">
                    <option value="albastru">
                    <option value="verde">
                    <option value="galben">
                    <option value="negru">
                    <option value="alb">
                </datalist>
            </label>

            </label>            
            
            <label>Etichete (virgule): <input type="text" id="inp-etichete" placeholder="ex: carbon,eco"></label>

            <label>Observații căutare:<br/>
                <textarea id="inp-observatii" rows="3" cols="40" placeholder="Adăugați orice observații sau cerințe specifice pentru căutare..."></textarea>
            
            <label><input type="checkbox" id="inp-noutati"> Noutăți (produse noi)</label>

            <p>
                <button id="filtrare">Filtrează</button> 
                <button id="resetare">Resetează</button><br/>
                <button id="sortCrescNume">Sortează crescător după preț și nume</button>
                <button id="sortDescrescNume">Sortează descrescător după preț și nume</button>
            </p>

            <p id="p-suma">Apăsați Alt+"c" pentru suma prețurilor produselor afișate.</p>

            <section id="produse"> <!--Etapa 6 ex 5-->
                <h2>Produse sportive</h2>                
                <div class="grid-produse">                    
                    <% for(let prod of locals.produse) { %> 
                        <article class="produs <%- prod.categorie %>" >
                            <h3 class="nume">Nume: <a href="/produs/<%- prod.id %>"><span class="val-nume"><%- prod.nume %></span></a></h3>
                        <div class="info-prod">
                            <ul class="caracteristici">
                                <li><strong>Preț:</strong> <span class="val-pret"><%- prod.pret %></span> RON</li>
                                <li><strong>Culoare:</strong> <span class="val-culoare"><%- prod.culoare %></span></li>
                                <li><strong>Etichete:</strong> <span class="val-etichete"><%- prod.etichete %></span></li>
                                <li><strong>Durabilitate:</strong> <span class="val-durabilitate"><%- prod.durabilitate %></span></li>
                                <li><strong>Subcategorie:</strong> <span class="val-subcategorie"><%- prod.subcategorie %></span></li>
                                <li><strong>Data adăugării:</strong> 
                                    <time datetime="<%- prod.data_adaugare %>">
                                        <%- new Date(prod.data_adaugare).toLocaleDateString('ro-RO', 
                                            {weekday:'long', year:'numeric', month:'long', day:'numeric'}) %>
                                    </time>
                                </li>
                                <li><strong>Pentru începători:</strong> <span class="val-incepatori"><%- prod.pentru_incepatori ? "Da" : "Nu" %></span></li>
                            </ul>                        </div>                            <p class="categorie">Categorie: <span class="val-categorie"><%- prod.categorie %></span></p>
                            <figure>
                                <a href="/produs/<%- prod.id %>"><img src="/resurse/imagini/produse/<%- prod.imagine %>" alt="[imagine <%- prod.nume %>]" /></a>
                            </figure>
                            <label class="selecteaza-cos">
                                Selectează:<br/>
                                <input type="checkbox" class="select-cos" value="<%- prod.id %>" autocomplete="off">
                            </label>
                        </article>
                    <% } %>
                </div>
            </section>
        </main>

        <%- include("../fragmente/footer") %>
    </body>
</html>
